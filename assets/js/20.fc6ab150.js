(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{501:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"一、静态代理设计模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、静态代理设计模式"}},[s._v("#")]),s._v(" 一、静态代理设计模式")]),s._v(" "),t("h3",{attrs:{id:"_1-为什么需要代理设计模式？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-为什么需要代理设计模式？"}},[s._v("#")]),s._v(" 1.为什么需要代理设计模式？")]),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[s._v("Java分层开发中，最重要的Service层的开发。 \n\t\t--\x3e 满足用户的需求\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("service")]),s._v("层中包含了哪些代码？")])]),s._v(" "),t("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://bee71-1302549720.cos.ap-shanghai.myqcloud.com/微信截图_20200805201958.png"}}),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[s._v("1.额外功能：\n\t1.不属于核心业务的\n\t2.可有可无的\n\t3.代码量少\n\t\n日志的作用：记录用户操作的流水账\n\t谁 + 时间 + 干了什么事 + 结果\n\t重要的操作要记录，比如转账之类的，不重要的操作可以不记录。\n\t\n性能的作用：检测核心业务操作的性能\n\t1.可有可无，上线之后就不需要了\n\t2.代码量小\n\t3.客户要的是功能，性能是附加功能。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://bee71-1302549720.cos.ap-shanghai.myqcloud.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20200805202956.png",alt:""}})]),s._v(" "),t("p",[s._v("在核心业务前标记一个开始时间，核心业务后记录一个结束时间，两者的差值就代表核心业务所消耗的时间，基于此来优化。")]),s._v(" "),t("ul",[t("li",[s._v("额外功能写在"),t("code",[s._v("service")]),s._v("层中好不好？")])]),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("1.")]),s._v(" Controller的角度：需要额外功能，比如事务。\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("2.")]),s._v(" 软件开发者的角度：service层中不需要额外功能，不利于代码维护。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-现实生活的问题场景：租房"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-现实生活的问题场景：租房"}},[s._v("#")]),s._v(" 2.现实生活的问题场景：租房")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://bee71-1302549720.cos.ap-shanghai.myqcloud.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20200805204738.png",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("房东就是业务类，核心功能就是把房子租出去。额外功能就是打广告，看房。")]),s._v(" "),t("li",[s._v("房客就是调用者。他需要租房。")]),s._v(" "),t("li",[s._v("我们将额外功能外包给一个中介，让他帮忙看房，我们只需要收钱。")]),s._v(" "),t("li",[s._v("如果我们需要新的打广告方式，可以直接找新中介。对比到代码业务中，就大大地降低了耦合。")])]),s._v(" "),t("h3",{attrs:{id:"_3-代理设计模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-代理设计模式"}},[s._v("#")]),s._v(" 3.代理设计模式")]),s._v(" "),t("ul",[t("li",[s._v("通过代理类，为原始类（目标类）增加额外功能。利于原始类的代码维护。")])]),s._v(" "),t("h4",{attrs:{id:"_3-1-名词解释"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-名词解释"}},[s._v("#")]),s._v(" 3-1.名词解释")]),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("1.")]),s._v(" 目标类或原始类\n\t\t指的是业务类，负责核心功能的类\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("2.")]),s._v(" 目标方法或原始方法\n\t\t原始类中的方法\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("3.")]),s._v(" 额外功能\n\t\t事务，日志，性能检测等\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h4",{attrs:{id:"_3-2-代理开发的核心要素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-代理开发的核心要素"}},[s._v("#")]),s._v(" 3-2.代理开发的核心要素")]),s._v(" "),t("p",[s._v("代理类 = 原始类（目标类） +  核心功能  + 要和目标类实现相同的接口。")]),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[s._v("房东 ----\x3e public interface UserServic{\n\t\t\t\tm1;\n\t\t\t\tm2\n\t\t   }\n\t\t   \n"),t("span",{pre:!0,attrs:{class:"token code keyword"}},[s._v("\t\t   UserServiceImpl implements UserService{\n\t\t   \t\tm1;\n\t\t   \t\tm2;\n\t\t   }\n\t\t   \n\t\t   UserServiceProxy implements UserService{\n\t\t   \t\tm1;\n\t\t   \t\tm2;\n\t\t   }")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token code keyword"}},[s._v("\t\t")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("h4",{attrs:{id:"_3-2-代码实战分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-代码实战分析"}},[s._v("#")]),s._v(" 3-2.代码实战分析")]),s._v(" "),t("h4",{attrs:{id:"_3-3-静态代理的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-静态代理的问题"}},[s._v("#")]),s._v(" 3-3.静态代理的问题")]),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("1.")]),s._v(" 静态类文件数量过多，不利于项目管理\n\t\t有一个原始类，就得创建一个代理类。\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("2.")]),s._v(" 额外功能维护性差\n\t\t代理类中 额外功能代码修改复杂。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"二、spring动态代理开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、spring动态代理开发"}},[s._v("#")]),s._v(" 二、Spring动态代理开发")]),s._v(" "),t("h3",{attrs:{id:"_1-动态代理概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-动态代理概念"}},[s._v("#")]),s._v(" 1.动态代理概念")]),s._v(" "),t("ul",[t("li",[s._v("通过代理类为原始类增加额外功能。")]),s._v(" "),t("li",[s._v("好处：利于原始类的维护。")])]),s._v(" "),t("h3",{attrs:{id:"_2-搭建开发环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-搭建开发环境"}},[s._v("#")]),s._v(" 2.搭建开发环境")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_3-动态代理开发步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-动态代理开发步骤"}},[s._v("#")]),s._v(" 3.动态代理开发步骤")]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("创建原始对象（目标对象）")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://bee71-1302549720.cos.ap-shanghai.myqcloud.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20200805214547.png",alt:""}})]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[s._v("在配置文件中配置\n\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("bean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("userService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("cpm.baizhiedu.proxy.UserServiceImpl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("bean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("额外功能")])]),s._v(" "),t("p",[t("code",[s._v("MethodBeforeAdvice")]),s._v("接口")]),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("1.")]),s._v(" 额外功能写在该接口的实现中，运行在原始方法之前运行额外功能。\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://bee71-1302549720.cos.ap-shanghai.myqcloud.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20200805215022.png",alt:""}})]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("bean")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("id")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("before"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("com.baizhiedu.dynamic.Before"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("bean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("定义切入点")])]),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[s._v("切入点 ： 额外功能加入的位置\n\n目的 : 由开发人员根据需要自己决定额外功能加入给哪个原始方法。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("aop:")]),s._v("config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("aop:")]),s._v("pointcut")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("pc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("expression")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("execution* *(..)"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v(" #这里代表的是所有的方法都作为切入点\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("aop:")]),s._v("config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("**组装：**额外功能和切入点整合")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("aop:")]),s._v("config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("aop:")]),s._v("pointcut")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("pc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v("  "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("expression")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("execution* *(..)"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v(" #这里代表的是所有的方法都作为切入点\n    \n    # 组装：目的把切入点和额外功能进行整合\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("aop:")]),s._v("advisor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("advice-ref")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("before"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("ponitcur-ref")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("pc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("aop:")]),s._v("config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("调用")]),s._v("：获得Spring工厂创建的动态代理对象，调用。")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApplicationContext")]),s._v(" ctx "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassPathXmlApplicationContext")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/applicationContext.xml"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nctx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userService"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n注意：\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Spring")]),s._v("工厂通过原始对象的id值获得的是代理对象！！！\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v("获得代理对象后，可以通过声明接口类型，进行对象的存储。\n    就是：\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserService")]),s._v(" userService "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("ctx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"userService"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"_4-动态代理细节分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-动态代理细节分析"}},[s._v("#")]),s._v(" 4.动态代理细节分析")]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("Spring创建的动态代理类在哪里？")])]),s._v(" "),t("p",[s._v("​\t\t\tSpring框架在运行时，通过"),t("strong",[s._v("动态字节码")]),s._v("技术在JVM创建的，在JVM内部。等程序结束后，会和JVM一起消失。")]),s._v(" "),t("p",[s._v("**动态字节码：**直接在JVM中生成字节码（动态字节码）")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("动态代理编程简化代理的开发")])]),s._v(" "),t("p",[s._v("​\t\t\t在额外功能不变的前提下，创建其他目标类的代理对象时，只需要指定目标对象即可。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("动态代理额外功能的维护性大大增强")])])])]),s._v(" "),t("h2",{attrs:{id:"三、动态代理详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、动态代理详解"}},[s._v("#")]),s._v(" 三、动态代理详解")]),s._v(" "),t("h3",{attrs:{id:"_1-methodbeforeadvice详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-methodbeforeadvice详解"}},[s._v("#")]),s._v(" 1.MethodBeforeAdvice详解")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://bee71-1302549720.cos.ap-shanghai.myqcloud.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20200805215022.png",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("学习该接口里参数的含义。")])]),s._v(" "),t("h2",{attrs:{id:"_1-aop概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-aop概念"}},[s._v("#")]),s._v(" 1.AOP概念")]),s._v(" "),t("div",{staticClass:"language-markdown line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-markdown"}},[t("code",[t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("1.")]),s._v(" AOP(Aspect Oriented Programming)  面向切面过程\n\t\t以切面为基本单位的程序开发，通过切面间的彼此协调，相互调用，完成程序的构建\n"),t("span",{pre:!0,attrs:{class:"token list punctuation"}},[s._v("2.")]),s._v(" OOP 面向对象编程\n\t\t以对象为基本单位的程序开发，通过对象间的彼此协调，相互调用，完成程序的构建。\n\t\t\n"),t("span",{pre:!0,attrs:{class:"token code keyword"}},[s._v("\t\t")]),s._v("\n切面 = 切入点 + 额外功能\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);